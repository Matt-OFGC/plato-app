# 🚀 Plato Production Planner - Quick Start Guide

## 5-Minute Setup

### Step 1: Configure Email (Optional but Recommended)

Add to your `.env` file:
```env
# For email confirmations (choose one):
EMAIL_PROVIDER=console        # For development (just logs)
# Or for production:
# EMAIL_PROVIDER=resend
# RESEND_API_KEY=re_your_key_here
# EMAIL_FROM=orders@yourbusiness.com
```

### Step 2: Set Up Your First Wholesale Customer

1. **Navigate:** Dashboard → Wholesale → Customers
2. **Click:** "Add Customer" button
3. **Fill in:**
   - Business Name (required)
   - Contact email (for order confirmations)
   - Phone, address (optional)
4. **Save**

### Step 3: Enable Customer Portal

1. **Click:** "Enable Portal" on the customer card
2. **Copy:** The generated portal URL
3. **Share:** Send link to customer (or click "Email Link to Customer")

### Step 4: Set Custom Pricing (Optional)

1. **Click:** "Pricing" button on customer card
2. **Enter:** Custom prices for any products
3. **Save:** Prices automatically apply in their portal

---

## 🎯 Common Tasks

### Create a Production Plan

**From Scratch:**
1. Dashboard → Production
2. Click "New Production Plan"
3. Enter plan name and dates
4. Search and add recipes
5. Set custom yields (total quantity needed)
6. (Optional) Click "Split by Destination" to allocate to customers
7. Continue to schedule (drag items to different days)
8. Create plan

**From Orders:**
1. Wholesale → Orders
2. Click "Add to Production"
3. System pre-loads all pending/confirmed orders
4. Allocations are auto-generated by customer
5. Review and create plan

### Process a Customer Order

**When customer orders via portal:**
1. You receive notification (bell icon)
2. Go to Wholesale → Orders
3. Review order details
4. Update status: pending → confirmed
5. Customer receives email confirmation

**Add to production:**
1. Click "Add to Production" from orders page
2. Production planner opens with items pre-loaded
3. Adjust as needed
4. Create plan

**Complete production:**
1. Production → View plan
2. Check boxes as items are completed
3. Inventory automatically updated ✓

**Deliver order:**
1. Wholesale → Orders
2. Update status to "delivered"
3. Customer receives email
4. Inventory automatically decremented ✓

### Manage Inventory

**View Stock:**
- Dashboard → Inventory
- See all current stock levels
- Low stock items highlighted in red

**Adjust Stock:**
1. Click "Adjust Stock" on any item
2. Enter quantity (+add or -subtract)
3. Select type (production/sale/adjustment/waste)
4. Add reason/notes
5. Save

**Set Alerts:**
- Enter "Low Stock Alert Threshold" when adding inventory item
- Or adjust existing items

---

## 🎨 Visual Guide

### Customer Portal Features

**What Customers See:**
```
┌────────────────────────────────────┐
│  [Your Logo]  Your Business Name   │
│  Ordering Portal for Customer Co   │
│                      🛒 Cart: 3    │
├────────────────────────────────────┤
│                                    │
│  [Product Image]                   │
│  Sourdough Loaf                    │
│  500g • Bread                      │
│  £3.50 (Your Price) [Add]          │
│                                    │
│  [Product Image]                   │
│  Chocolate Cake                    │
│  1 each • Cakes                    │
│  £25.00 [Add]                      │
│                                    │
├────────────────────────────────────┤
│  Your Order                        │
│  ├─ Sourdough Loaf    [-] 2 [+]   │
│  └─ Chocolate Cake    [-] 1 [+]   │
│                                    │
│  Delivery Date: [Select]           │
│  Notes: [Text area]                │
│                                    │
│  [Submit Order]                    │
└────────────────────────────────────┘
```

### Production Allocations UI

**When Planning:**
```
Selected Recipes
├─ Sourdough Loaf
│  Total: 20 loaves
│  = 2.5 batches
│  
│  ▶ Split by Destination (2)
│     ├─ Coffee Shop: 12 loaves
│     └─ Internal: 8 loaves
│     [+ Add Allocation]
│
└─ Chocolate Cake
   Total: 6 cakes
   = 6 batches
```

### Order Status Workflow

```
pending → confirmed → in_production → ready → delivered
   ↓         ↓            ↓             ↓        ↓
  📧        📧           📧            📧       📧 + 📦
 (saved)  (email)      (email)      (email) (email+inventory)
```

---

## 💡 Pro Tips

1. **Batch Processing:** Use "Add to Production" to process multiple orders at once

2. **Allocations:** Pre-allocate production to customers to stay organized

3. **Custom Pricing:** Set volume discounts or special rates per customer

4. **Inventory Alerts:** Set thresholds at ~20% of weekly production

5. **Email Testing:** Use `EMAIL_PROVIDER=console` during development

6. **Portal Sharing:** Send portal links via WhatsApp, email, or SMS - they work anywhere!

7. **Order Templates:** Customers can place same order weekly (just browse and add)

8. **Multi-Day Production:** Use drag-and-drop scheduling for complex recipes

9. **Status Updates:** Update order status in real-time - customers get notified automatically

10. **Movement History:** Use inventory notes to track batches, expiry dates, etc.

---

## 🐛 Common Issues & Solutions

**"Portal not loading"**
- Solution: Check customer has portalEnabled = true
- Solution: Verify token in URL matches database
- Solution: Check browser console for errors

**"Emails not sending"**
- Solution: Set EMAIL_PROVIDER in .env
- Solution: Use 'console' for development
- Solution: Verify API keys are correct

**"Inventory not updating"**
- Solution: Ensure production items marked "completed"
- Solution: Check order status is "delivered"
- Solution: Verify recipe has yieldQuantity set

**"Allocations not showing"**
- Solution: Save production plan after adding allocations
- Solution: Refresh page
- Solution: Check browser console

---

## 📞 Support

**Documentation:**
- Full details: `PRODUCTION_PLANNER_COMPLETE.md`
- Original spec: `WHOLESALE_IMPLEMENTATION_SUMMARY.md`

**Quick Links:**
- Production: `/dashboard/production`
- Wholesale: `/dashboard/wholesale`
- Inventory: `/dashboard/inventory`
- Orders: `/dashboard/wholesale/orders`

---

## 🎉 You're All Set!

Everything is ready to use. Start by:
1. Adding your wholesale customers
2. Enabling their portals
3. Sharing the links
4. Watch orders come in automatically!

The system handles the rest:
- ✓ Email confirmations
- ✓ Admin notifications
- ✓ Inventory tracking
- ✓ Production integration

**Happy Baking! 🥖**
